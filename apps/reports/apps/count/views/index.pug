extends ../../../../../src/views/base.pug

block prepend title
	- title = app.title
	- activeapp = 'reports'

block contents
	.row
		.col-md-3
			h3( style="margin-bottom: 0; font-weight: normal;" ) #{ app.title }:
			h1( style="margin-top: 0; margin-bottom: 0;" ) #{ moment( searchDate ).format( 'MMMM' ) }
			h2( style="margin-top: 0;" ) #{ moment( searchDate ).format( 'Y' ) }
			nav( aria-label="..." )
				ul.pager
					li.previous
						a( href="?year=" + moment( previous ).format( 'Y' ) + "&month=" + moment( previous ).format( 'M' ) )
							span( aria-hidden="true" ) &larr;&nbsp;
							| #{ moment( previous ).format( 'MMMM' ) }
					li.next
						a( href="?year=" + moment( next ).format( 'Y' ) + "&month=" + moment( next ).format( 'M' ) ) #{ moment( next ).format( 'MMMM' ) }
							span( aria-hidden="true" ) &nbsp;&rarr;

		.col-md-9
			if ( members != undefined && members.length > 0 )
				ul.list-group: li.list-group-item.list-group-item-default Days the door was opened in #{ moment( searchDate ).format( 'MMMM' ) } #{ moment( searchDate ).format( 'Y' ) } by user.
				table.table.table-striped.table-condensed
					thead
						tr
							th Name
							th Count
					tbody
						each member, m in members
							tr
								td: a( href="/members/list/" + member.member.uuid ) #{ member.member.fullname }
								td #{ member.count }
			else
				ul.list-group: li.list-group-item.list-group-item-default There are no events to count in #{ moment( searchDate ).format( 'MMMM' ) } #{ moment( searchDate ).format( 'Y' ) }.
